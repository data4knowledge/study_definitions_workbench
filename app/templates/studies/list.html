{% extends "shared/_main_layout.html" %}

{% block environment_content %}
  {% with request=request %}
    {% include "shared/partials/environment.html" %}
  {% endwith %}    
{% endblock %}
{% block user_content %}
  {% with request=request, user=user %}
    {% include "shared/partials/user.html" %}
  {% endwith %}    
{% endblock %}
{% block additional_css %}
  {% with %}
    {% include "shared/styles/m11.html" %}
  {% endwith %}  
  <style>
    .document-div { width: 95%; }
    .ich-m11-title-page-table { margin-top: 20px; }
    .ich-m11-title-page-table td:first-child { 
      width: 12em;
      min-width: 12em;
      max-width: 12em; 
    }
    .ich-m11-title-page-table td { padding: 10px; }
    .ich-m11-amendment-table { table-layout: fixed; width: 100%; }
    .ich-m11-amendment-table td:first-child {
      width: 12em;
      min-width: 12em;
      max-width: 12em;
      font-weight: bold;
    }
    .ich-m11-amendment-table td {
      max-width: 33.33%;
      word-wrap: break-word;
      overflow-wrap: break-word;
      vertical-align: top;
    }
  </style>
{% endblock %}   
{% block menu_content %}
  {% with data=data %}
    {% include "shared/partials/import_menu.html" %}
  {% endwith %} 
{% endblock %}

{% block main_content %}
  <div class="mt-3 row">
    <div class="col-12">
      <ul class="nav nav-tabs" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" role="tab" data-bs-toggle="tab" data-bs-target="#title_page_tab">M11 Title Page</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" role="tab" data-bs-toggle="tab" data-bs-target="#inclusion_tab">Inclusion Criteria</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" role="tab" data-bs-toggle="tab" data-bs-target="#exclusion_tab">Exclusion Critieria</button>
        </li>
      </ul>
      <div class="tab-content mt-2">
        <div id="title_page_tab" class="tab-pane fade show active" role="tabpanel">
          {% set width = data["m11_title_page"]["Full Title"]|length %}
          <div class="outer-div row mt-3">
            <div class="col-12 extract-div mt-3 mb-3">
              <div class="overflow-auto section-div">
                <table class="ich-m11-title-page-table">
                  {% for k, v in data["m11_title_page"].items() %}
                    <tr>
                      <td>{{k}}</td>
                      {% for w in range(width) %}
                        <td>
                          {{v[w]}}                          
                        </td>
                      {% endfor %}
                    </tr>
                  {% endfor %}
                </table>
              </div>
             </div>
          </div>  
        </div>
        <div id="inclusion_tab" class="tab-pane fade" role="tabpanel">
          {% with data=data["inclusion"] %}
            {% include "studies/partials/criteria.html" %}
          {% endwith %}
        </div>
        <div id="exclusion_tab" class="tab-pane fade" role="tabpanel">
          {% with data=data["exclusion"] %}
            {% include "studies/partials/criteria.html" %}
          {% endwith %}
        </div>
      </div>
    </div>
  </div>
{% endblock %}



